{
    "$schema": "https://raw.githubusercontent.com/Azure/azure-devtestlab/master/schemas/2015-01-01/dtlArtifacts.json",
    "title": "Apt-Get",
    "description": "Install packages on a Linux Azure DevTest Lab VM via apt-get",
    "tags": [
        "Package Management",
        "Apt",
        "apt-get",
        "install",
        "Linux"
    ],
    "iconUri": "http://www.debian.org/favicon.ico",
    "targetOsType": "Linux",
    "parameters": {
        "packages": {
            "type": "string",
            "displayName": "Packages",
            "allowEmpty": false,
            "description": "The packages to install on the VM, separated by spaces. All of the package declarations supported by apt-get are supported here as well, see http://manpages.debian.org/cgi-bin/man.cgi?query=apt-get for an in-depth look at the package specifications available."
        },
        "update": {
            "type": "string",
            "displayName": "Run Update First",
            "defaultValue": "true",
            "description": "Run apt-get update prior to running the full install command. Allowed values are 'true' and 'false', or blank (which will evaluate to false). Note that no additional options are passed to the update command. It is recommended for you to run update."
        },
        "options": {
            "type": "string",
            "displayName": "Additional Options",
            "allowEmpty": true,
            "description": "Any additional options to pass to the apt-get command line. These options will precede the install command when executed. Please see http://manpages.debian.org/cgi-bin/man.cgi?query=apt-get for an in-depth look at the options available. Note that --assume-yes and --quiet are always passed automatically."
        }
    },
    "runCommand": {
        "commandToExecute": "[concat('bash linux-apt-package.sh ', ' --update ', parameters('update'), ' --packages ', parameters('packages'), ' --options ', parameters('options'))]"
    }
}
